(this["webpackJsonprestaurant-search"]=this["webpackJsonprestaurant-search"]||[]).push([[0],{23:function(e,t,a){e.exports=a(37)},28:function(e,t,a){},29:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(12),l=a.n(r),i=a(1),o={breakpoints:["768px","992px","1200px"]},u=(a(28),a(6)),d=(a(29),a(4)),s=Object(i.b)("button")({background:"none"}),b=function(e){var t=e.children,a=Object(d.a)(e,["children"]);return c.a.createElement(s,a,t)},p=a(18),m={display:"block"},f=Object(i.b)("input")(Object(p.a)({},m,{padding:"10px",textAlign:"center",width:"300px",marginBottom:"16px"})),h=Object(i.b)("p")(Object(p.a)({},m)),j=Object(i.b)("label")({display:"flex",flexDirection:"column",alignItems:"center"}),O=function(e){var t=e.label,a=Object(d.a)(e,["label"]);return c.a.createElement(j,null,c.a.createElement(h,null,t),c.a.createElement(f,Object.assign({type:"text"},a)))},v=Object(i.b)((function(e){var t=e.children,a=Object(d.a)(e,["children"]);return c.a.createElement(g,Object.assign({as:"li"},a),t)}))({marginBottom:"20px",width:"100%",listStyle:"none",border:"1px solid black",boxShadow:"10px 10px 5px 0px rgba(0,0,0,0.75)"}),E=a(5),g=Object(i.b)((function(e){var t=e.children,a=Object(d.a)(e,["children"]);return c.a.createElement("div",a,t)}))(E.h,E.g,E.b,E.d,E.c,E.a,E.e,E.f),x=a(14),S=Object(i.b)(g)({margin:"0 auto"},Object(x.a)({width:["95%","80%"]})),w=Object(i.b)("select")({width:"150px",textAlign:"center"}),y=function(e){var t=e.label,a=e.defaultText,n=(e.children,e.options),r=void 0===n?[]:n,l=Object(d.a)(e,["label","defaultText","children","options"]);return c.a.createElement("label",null,c.a.createElement("p",null,t),c.a.createElement(w,l,c.a.createElement("option",{defaultValue:!0,value:""},a),r.map((function(e){return c.a.createElement("option",{key:"".concat(t).concat(e),value:e},e)}))))},k=a(10),D=a(8),F=Object(D.b)({name:"searchField",initialState:{value:""},reducers:{updateSearchField:function(e,t){e.value=t.payload}}}),A=F.actions.updateSearchField,B=F.reducer,C=a(16),I=Object(D.b)({name:"restaurantData",initialState:{data:[]},reducers:{clearData:function(e){e.data=[]},setData:function(e,t){e.data=[].concat(Object(C.a)(e.data),Object(C.a)(t.payload))}}}),T=I.actions,P=T.setData,R=T.clearData,J=I.reducer;var K=function(){var e=Object(k.b)(),t=Object(k.c)((function(e){var t;return null===(t=e.restaurantData)||void 0===t?void 0:t.data})),a=Object(k.c)((function(e){return e.searchField.value})),r=Object(n.useState)(""),l=Object(u.a)(r,2),i=l[0],o=l[1],d=Object(n.useState)(""),s=Object(u.a)(d,2),p=s[0],m=s[1],f=Object(n.useState)([]),h=Object(u.a)(f,2),j=h[0],E=h[1],x=Object(n.useState)(!1),w=Object(u.a)(x,2),D=w[0],F=w[1],B=Object(n.useState)(1),C=Object(u.a)(B,2),I=C[0],T=C[1],J=Object(n.useState)(0),K=Object(u.a)(J,2),W=K[0],_=K[1];function z(t,a){fetch("https://opentable.herokuapp.com/api/restaurants?page=".concat(I,"&per_page=").concat(100,"&city=").concat(a),{method:"GET",redirect:"follow"}).then((function(e){return e.json()})).then((function(t){t.restaurants&&(e(P(t.restaurants)),T(I+1),_(t.total_entries-100*I))}))}return Object(n.useEffect)((function(){D&&(F(!1),e(R()),z(0,a))}),[D]),Object(n.useEffect)((function(){if(W>0)return z(0,a);T(1),_(0)}),[W]),Object(n.useEffect)((function(){var e,a;if((null===i||void 0===i?void 0:i.length)&&(null===t||void 0===t?void 0:t.length)){var n=new RegExp(i.replace(/[^a-z0-9]/gi,""),"gi");a=t.filter((function(e){return n.test(e.name)||n.test(e.address)||n.test(e.area)}))}if(a=a||[],(null===p||void 0===p?void 0:p.length)&&(a=a.filter((function(e){return e.price===parseInt(p)}))),!(null===(e=a)||void 0===e?void 0:e.length)&&!(null===p||void 0===p?void 0:p.length))return E(t);E(a)}),[i,p,t]),c.a.createElement("div",{className:"App"},c.a.createElement(S,null,c.a.createElement("h1",null,"Restaurant Search"),c.a.createElement(g,null,c.a.createElement(O,{label:"Enter a city",onChange:function(t){return e(A(t.target.value))},onKeyDown:function(e){13===e.keyCode&&F(!0)}}),c.a.createElement(b,{"aria-label":"Search Button",onClick:function(){F(!0)}},"Search")),c.a.createElement(g,null,c.a.createElement(O,{label:"Filter Results",onKeyDown:function(e){return o(e.target.value)}}),c.a.createElement(y,{label:"Sort by Price",defaultText:"Select a Price",options:[1,2,3,4],onChange:function(e){m(e.target.value)}})),c.a.createElement(g,{as:"ul",padding:"0"},(null===j||void 0===j?void 0:j.length)?j.map((function(e,t){return c.a.createElement(v,{tabIndex:0,key:e.id},c.a.createElement("h2",null,e.name),c.a.createElement("p",null,"Address: ",e.address),c.a.createElement("p",null,"Area: ",e.area),c.a.createElement("p",null,"Price: ",e.price))})):null)))},W=Object(D.a)({reducer:{searchField:B,restaurantData:J}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(i.a,{theme:o},c.a.createElement(k.a,{store:W},c.a.createElement(K,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[23,1,2]]]);
//# sourceMappingURL=main.3248eef1.chunk.js.map