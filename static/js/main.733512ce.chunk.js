(this["webpackJsonprestaurant-search"]=this["webpackJsonprestaurant-search"]||[]).push([[0],{23:function(e,t,a){e.exports=a(37)},28:function(e,t,a){},29:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(12),l=a.n(r),i=a(1),o={breakpoints:["768px","992px","1200px"]},u=(a(28),a(7)),d=(a(29),function(e){var t=Object.assign({},e);return c.a.createElement("button",t)}),s=a(6),b=a(18),m={display:"block"},p=Object(i.b)("input")(Object(b.a)({},m,{padding:"10px",textAlign:"center",width:"300px",marginBottom:"16px"})),f=Object(i.b)("p")(Object(b.a)({},m)),h=Object(i.b)("label")({display:"flex",flexDirection:"column",alignItems:"center"}),v=function(e){var t=e.label,a=Object(s.a)(e,["label"]);return c.a.createElement(h,null,c.a.createElement(f,null,t),c.a.createElement(p,Object.assign({type:"text"},a)))},j=Object(i.b)((function(e){var t=e.children,a=Object(s.a)(e,["children"]);return c.a.createElement(E,Object.assign({as:"li"},a),t)}))({marginBottom:"20px",width:"100%",listStyle:"none",border:"1px solid black",boxShadow:"10px 10px 5px 0px rgba(0,0,0,0.75)"}),O=a(4),E=Object(i.b)((function(e){var t=e.children,a=Object(s.a)(e,["children"]);return c.a.createElement("div",a,t)}))(O.h,O.g,O.b,O.d,O.c,O.a,O.e,O.f),g=a(14),x=Object(i.b)(E)({margin:"0 auto"},Object(g.a)({width:["95%","80%"]})),y=Object(i.b)("select")({width:"150px",textAlign:"center"}),S=function(e){var t=e.label,a=e.defaultText,n=(e.children,e.options),r=void 0===n?[]:n,l=Object(s.a)(e,["label","defaultText","children","options"]);return c.a.createElement("label",null,c.a.createElement("p",null,t),c.a.createElement(y,l,c.a.createElement("option",{defaultValue:!0,value:""},a),r.map((function(e){return c.a.createElement("option",{key:"".concat(t).concat(e),value:e},e)}))))},w=a(10),k=a(5),D=Object(k.b)({name:"searchField",initialState:{value:""},reducers:{updateSearchField:function(e,t){e.value=t.payload}}}),A=D.actions.updateSearchField,B=D.reducer,F=a(16),C=Object(k.b)({name:"restaurantData",initialState:{data:[]},reducers:{clearData:function(e){e.data=[]},setData:function(e,t){e.data=[].concat(Object(F.a)(e.data),Object(F.a)(t.payload))}}}),I=C.actions,T=I.setData,P=I.clearData,R=C.reducer;var J=function(){var e=Object(w.b)(),t=Object(w.c)((function(e){var t;return null===(t=e.restaurantData)||void 0===t?void 0:t.data})),a=Object(w.c)((function(e){return e.searchField.value})),r=Object(n.useState)(""),l=Object(u.a)(r,2),i=l[0],o=l[1],s=Object(n.useState)(""),b=Object(u.a)(s,2),m=b[0],p=b[1],f=Object(n.useState)([]),h=Object(u.a)(f,2),O=h[0],g=h[1],y=Object(n.useState)(!1),k=Object(u.a)(y,2),D=k[0],B=k[1],F=Object(n.useState)(1),C=Object(u.a)(F,2),I=C[0],R=C[1],J=Object(n.useState)(0),K=Object(u.a)(J,2),W=K[0],_=K[1];function z(t,a){fetch("https://opentable.herokuapp.com/api/restaurants?page=".concat(I,"&per_page=").concat(100,"&city=").concat(a),{method:"GET",redirect:"follow"}).then((function(e){return e.json()})).then((function(t){e(T(t.restaurants)),R(I+1),_(t.total_entries-100*I)}))}return Object(n.useEffect)((function(){D&&(B(!1),e(P()),z(0,a))}),[D]),Object(n.useEffect)((function(){if(W>0)return z(0,a);R(1),_(0)}),[W]),Object(n.useEffect)((function(){var e,a;if((null===i||void 0===i?void 0:i.length)&&(null===t||void 0===t?void 0:t.length)){var n=new RegExp(i.replace(/[^a-z0-9]/gi,""),"gi");a=t.filter((function(e){return n.test(e.name)||n.test(e.address)||n.test(e.area)}))}if(a=a||[],(null===m||void 0===m?void 0:m.length)&&(a=a.filter((function(e){return e.price===parseInt(m)}))),!(null===(e=a)||void 0===e?void 0:e.length)&&!(null===m||void 0===m?void 0:m.length))return g(t);g(a)}),[i,m,t]),c.a.createElement("div",{className:"App"},c.a.createElement(x,null,c.a.createElement("h1",null,"Restaurant Search"),c.a.createElement(E,null,c.a.createElement(v,{label:"Enter a city",onChange:function(t){return e(A(t.target.value))},onKeyDown:function(e){13===e.keyCode&&B(!0)}}),c.a.createElement(d,{"aria-label":"Search Button",onClick:function(){B(!0)}},"Search")),c.a.createElement(E,null,c.a.createElement(v,{label:"Filter Results",onKeyDown:function(e){return o(e.target.value)}}),c.a.createElement(S,{label:"Sort by Price",defaultText:"Select a Price",options:[1,2,3,4],onChange:function(e){p(e.target.value)}})),c.a.createElement(E,{as:"ul",padding:"0"},(null===O||void 0===O?void 0:O.length)?O.map((function(e,t){return c.a.createElement(j,{tabIndex:0,key:e.id},c.a.createElement("h2",null,e.name),c.a.createElement("p",null,"Address: ",e.address),c.a.createElement("p",null,"Area: ",e.area),c.a.createElement("p",null,"Price: ",e.price))})):null)))},K=Object(k.b)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),W=K.actions,_=(W.increment,W.decrement,W.incrementByAmount,K.reducer),z=Object(k.a)({reducer:{counter:_,searchField:B,restaurantData:R}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(i.a,{theme:o},c.a.createElement(w.a,{store:z},c.a.createElement(J,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[23,1,2]]]);
//# sourceMappingURL=main.733512ce.chunk.js.map